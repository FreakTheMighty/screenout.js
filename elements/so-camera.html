<link rel="import" href="./library.html">


<polymer-element name="so-camera" noscript>
  <template>
  </template>
  <script>
    Polymer('so-camera', {
      // initialize the element's model
      ready: function() {
        //this.renderer.setSize( window.innerWidth, window.innerHeight );
        var scene = getScene(this);
        camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
        camera.position.z = 400;

        window.onscroll = function (event) {
          camera.position.y = -$(window).scrollTop();
        }


        function animate() {
          requestAnimationFrame( animate );
          scene.renderer.render( scene.scene, camera );
        }
        requestAnimationFrame( animate );

        function onWindowResize() {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          scene.renderer.setSize( window.innerWidth, window.innerHeight );
        }
        window.addEventListener( 'resize', onWindowResize, false );

      }
    });
  </script>
</polymer-element>
